<link rel="import" href="packages/polymer/polymer.html">
<link rel="import" href="words_table.html">
<link rel="import" href="words_table_review.html">
<link rel="import" href="deck_summary.html">
<link rel="import" href="decks_table.html">
<link rel="import" href="learning_panel.html">
<link rel="import" href="dictionary_panel.html">
<link rel="import" href="progress_bar.html">
<link rel="import" href="packages/paper_elements/paper_radio_group.html">
<link rel="import" href="packages/paper_elements/paper_button.html">
<link rel="import" href="packages/core_elements/core_icons.html">
<link rel="import" href="packages/core_elements/core_animated_pages.html">
<link rel="import" href="packages/core_elements/core_animation.html">
<polymer-element name="flashcards-app">
  <template>
  <link rel="stylesheet" href="resources/bootstrap-3.1.1-dist/css/bootstrap.css" >
  <link rel="stylesheet" href="resources/flashcardsnew.css">
  <link rel="stylesheet" href="resources/paperbuttons.css">
  <style>      
      #imgFlag {
        margin-bottom: 10px;      
      }
      
      #optionsDialogFramePart {
        z-index: 1024;
        position: fixed;
        display: block;
 
        height: 100%;
        width: 25%;
 
        top: 0px;
        left: 0px;
        /*visibility: visible;*/
        box-shadow: 0px 0px 10px rgba( 0, 0, 0, 0.5 );
        -webkit-box-shadow: 0px 0px 10px rgba( 0, 0, 0, 0.5 );
        -moz-box-shadow: 0px 0px 10px rgba( 0, 0, 0, 0.5 );
        
        overflow: auto;
 
        -webkit-transition: -webkit-transform 0.2s linear;
        -webkit-transform: translate(400%, 0);
        background-color: rgb(255, 255, 255);
        /*overflow-x: hidden;*/
      }
      
      #optionsBacksplashPart {
        position: absolute;        
        left: 0px;
        top: 0px;
        visibility: visible;
        z-index: 501;
        background-color: #000;
        width: 75%;
        height: 100%;
      }
      
      .formContainer {
        padding: 15px;
      }
      
                
    </style>    
  <div class="container-fluid"><!-- container centers page content -->
    <div class="row">	  
      <div class="col-md-12">
        <ul id="navigationPills" style="margin: 2px 0 10px 0;" class="nav nav-pills">
  		    <li class="active">
    			  <a id="homePill" on-click="{{goToHomePanel}}">Home</a>
  			  </li>
  			  <li><a on-click="{{showOptions}}">Options</a></li>        
          <li><a on-click="{{showDictionary}}">Dictionary</a></li>
  			  <li><a>...</a></li>
		    </ul>    	
		  </div>
    </div>
    
    <div id="pageContentDiv" >
      <core-animated-pages selected="0" id="dicPages" transitions="cross-fade">
        <section id="homeSection">
          <div cross-fade>
            <div id="welcomePageDiv" class="row">
              <div id="wordFilesDiv" class="col-sm-3 col-xs-12">             
                <ul class="nav nav-tabs">
                  <li class="active">
                    <a id="level1Tab" on-click="{{level1Clicked}}">Level 1</a>
                  </li>
                  <li>
                    <a id="level2Tab" on-click="{{level2Clicked}}">Level 2</a>
                  </li>
                </ul>                    
                <decks-table items={{items}} on-decknameclicked="{{deckNameChanged1}}"></decks-table>
              </div> <!-- word Files div AAA -->
              <div class="col-sm-9 col-xs-12">
                <div id="deckDetailsDiv" hidden>
                  <div>                        
                    <h3>Summary</h3>
                    <div class="row">              
                      <div class="col-sm-3">
                        <deck-summary 
                          cards="{{cards}}"
                          primaryLang="{{primaryLang}}"></deck-summary>                            
                      </div>
                      <div class="col-sm-3 col-sm-offset-2">
                        <img id="imgFlag"
                            on-click="{{flagClicked}}" 
                            _src="{{flagPath}}" 
                            width="200px"
                            style="border-style:solid;border-width:1px;">
                      </div>
                    </div>                
                    <p>                        
                      <button id="startButton" 
                              on-click="{{startPanel}}" 
                              class="btn btn-lg btn-info">Start</button>                  
                      <button id="fetchPronoButton" 
                             on-click="{{fetchPronunciations}}"                            
                             class="btn btn-lg btn-info">Fetch Pronunciation</button>
                    </p>
                  </div>     
                  <template id="progressDivTmpl" bind if="{{ showProgress }}">
                    <progress-bar total="{{total}}" currentSucc="{{currentSucc}}" currentFail="{{currentFail}}"></progress-bar>                            
                  </template>
                  <template bind if="{{ !learningList.isEmpty }}">
                    <h3>Review</h3>              
                    <review-table id="wordsTableToLearn" 
                          cards="{{learningList}}"
                          primaryLang="{{primaryLang}}"
                          secondaryLang="{{secondaryLang}}"
                           thirdLang="{{thirdLang}}"></review-table>
                  </template>
                  <template bind if="{{ !notInLearningList.isEmpty }}">
                    <h3>Completed</h3>
                    <words-table id="wordsTable" 
                          cards="{{notInLearningList}}"
                          primaryLang="{{primaryLang}}"
                          secondaryLang="{{secondaryLang}}"
                          thirdLang="{{thirdLang}}"></words-table>
                  </template>               
                </div><!-- deckDetailsDiv -->
              </div><!-- col-md-9 -->
            </div><!--welcomePageDiv-->                
          </div>
        </section>
        <section id="dictionarySection">
          <div cross-fade>
            <dictionary-panel 
              id="dictionaryPanel"
              primaryLang="{{primaryLang}}"
              secondaryLang="{{secondaryLang}}"
              thirdLang="{{thirdLang}}"
              deckNames="{{allDeckNames}}">
            </dictionary-panel>
          </div>
        </section>        
        <section id="learningPanelSection">
          <div cross-fade>
            <learning-panel
                id="learningPanel" 
                on-deck-finished="{{goToHomePanel}}" 
                cards="{{cards}}"
                primaryLang="{{primaryLang}}"
                secondaryLang="{{secondaryLang}}"
                thirdLang="{{thirdLang}}"
                fileCache="{{fileCache}}">
            </learning-panel>
          </div>
        </section>
      </core-animated-pages>              
    </div> <!-- pageContentDiv -->             
       
  </div> <!-- container -->
  <div id="optionsDialogFramePart">
    <div name="editSubscription" class="formContainer"> 
      <h1>Options</h1>
      <form class="form" role="form">
         <paper-radio-group id="optionsLangs" class="blue" selected="optionsRadiosFiDaEs">
          <paper-radio-button name="optionsRadiosFiDaEs" label="Fi, Da, Es"></paper-radio-button><br>
          <paper-radio-button name="optionsRadios2" label="Ko, Fi, Hu"></paper-radio-button><br>
          <paper-radio-button name="optionsRadiosFiKoEs" label="Fi, Ko, Es"></paper-radio-button><br>
          <paper-radio-button name="optionsRadiosFiEsFr" label="Fi, Es, Fr"></paper-radio-button>
        </paper-radio-group>    
      </form>
      <p>
        <paper-button icon="check" class="custom colored" role="button" on-click="{{updateOptions}}" tabindex="0">ok</paper-button>
        <paper-button icon="clear" class="custom" role="button" on-click="{{hideOptions}}" tabindex="0">Cancel</paper-button>        
      <p>
      <p>                                          
        <button id="clearResultsButton" 
                on-click="{{clearDeckResults}}" 
                class="btn btn-info">Clear results</button>                  
      </p>            
    </div>       
  </div>
  <div id="optionsBacksplashPart" style="opacity: 1; display: none"></div>
<div id="audioContainer"></div>
      
  </template>
  <script type="application/dart" src="flashcardsapp.dart"></script>
</polymer-element>

