<link rel="import" href="packages/polymer/polymer.html">
<link rel="import" href="words_table.html">
<link rel="import" href="words_table_review.html">
<link rel="import" href="deck_summary.html">
<link rel="import" href="decks_table.html">
<link rel="import" href="learning_panel.html">
<link rel="import" href="dictionary_panel.html">
<link rel="import" href="progress_bar.html">

<polymer-element name="flashcards-app">
  <template>
  <link rel="stylesheet" href="resources/bootstrap-3.1.1-dist/css/bootstrap.css" >
  <link rel="stylesheet" href="resources/flashcardsnew.css">
  <style>      
      #imgFlag {
        margin-bottom: 10px;      
      }
      
      #optionsDialogFramePart {
        z-index: 1024;
        position: fixed;
        display: block;
 
        height: 100%;
        width: 25%;
 
        top: 0px;
        left: 0px;
        /*visibility: visible;*/
        box-shadow: 0px 0px 10px rgba( 0, 0, 0, 0.5 );
        -webkit-box-shadow: 0px 0px 10px rgba( 0, 0, 0, 0.5 );
        -moz-box-shadow: 0px 0px 10px rgba( 0, 0, 0, 0.5 );
        
        overflow: auto;
 
        -webkit-transition: -webkit-transform 0.2s linear;
        -webkit-transform: translate(400%, 0);
        background-color: rgb(255, 255, 255);
        /*overflow-x: hidden;*/
      }
      
      #optionsBacksplashPart {
        position: absolute;        
        left: 0px;
        top: 0px;
        visibility: visible;
        z-index: 501;
        background-color: #000;
        width: 75%;
        height: 100%;
      }
      
      .formContainer {
        padding: 15px;
      }
            
    </style>    
  <div class="container"><!-- container centers page content -->
    <div class="row">	  
      <div class="col-md-12">
        <ul id="navigationPills" style="margin: 2px 0 10px 0;" class="nav nav-pills">
  		    <li class="active">
    			  <a id="homePill" on-click="{{goToHomePanel}}">Home</a>
  			  </li>
  			  <li><a on-click="{{showOptions}}">Options</a></li>        
          <li><a on-click="{{showDictionary}}">Dictionary</a></li>
  			  <li><a>...</a></li>
		    </ul>    	
		  </div>
    </div>
    
    <div id="pageContentDiv" >
      <div id="welcomePageDiv" class="row">
        <div id="wordFilesDiv" class="col-sm-3 col-xs-12">
          <ul class="nav nav-tabs">
            <li class="active">
              <a id="level1Tab" on-click="{{level1Clicked}}">Level 1</a>
            </li>
            <li>
              <a id="level2Tab" on-click="{{level2Clicked}}">Level 2</a>
            </li>
          </ul>                    
          <decks-table items={{items}} on-decknameclicked="{{deckNameChanged1}}"></decks-table>
        </div> <!-- word Files div AAA -->
        <div class="col-sm-9 col-xs-12">
          <div id="deckDetailsDiv" hidden>
            <h3>Summary</h3>
            <div class="row">
              <div class="col-sm-3">
                <deck-summary 
                   cards="{{cards}}"
                   primaryLang="{{primaryLang}}"></deck-summary>                            
                </div>
                <div class="col-sm-3 col-sm-offset-2">
                  <img id="imgFlag"
                       on-click="{{flagClicked}}" 
                       _src="{{flagPath}}" 
                       width="200px"
                       style="border-style:solid;border-width:1px;">
                </div>
              </div>
              <p>                        
                  <button id="startButton" 
                          on-click="{{startPanel}}" 
                          class="btn btn-lg btn-info">Start</button>                  
                  <button id="fetchPronoButton" 
                          on-click="{{fetchPronunciations}}"                            
                          class="btn btn-lg btn-info">Fetch Pronunciation</button>
              </p>
                    
              <template id="progressDivTmpl" bind if="{{ showProgress }}">
                <progress-bar total="{{total}}" currentSucc="{{currentSucc}}" currentFail="{{currentFail}}"></progress-bar>                            
              </template>
              <template bind if="{{ !learningList.isEmpty }}">
                <h3>Review</h3>              
                <review-table id="wordsTableToLearn" 
                      cards="{{learningList}}"
                      primaryLang="{{primaryLang}}"
                      secondaryLang="{{secondaryLang}}"
                      thirdLang="{{thirdLang}}"></review-table>
              </template>
              <template bind if="{{ !notInLearningList.isEmpty }}">
                <h3>Completed</h3>
                <words-table id="wordsTable" 
                      cards="{{notInLearningList}}"
                      primaryLang="{{primaryLang}}"
                      secondaryLang="{{secondaryLang}}"
                      thirdLang="{{thirdLang}}"></words-table>
              </template>               
            </div><!-- deckDetailsDiv -->
          </div><!-- col-md-9 -->
        </div><!--welcomePageDiv-->
     
        <learning-panel hidden="true" 
            id="learningPanel" 
            on-deck-finished="{{goToHomePanel}}" 
            cards="{{cards}}"
            primaryLang="{{primaryLang}}"
            secondaryLang="{{secondaryLang}}"
            thirdLang="{{thirdLang}}"
            fileCache="{{fileCache}}">
        </learning-panel>
        <dictionary-panel hidden="true" 
            id="dictionaryPanel"
            primaryLang="{{primaryLang}}"
            secondaryLang="{{secondaryLang}}"
            thirdLang="{{thirdLang}}"
            deckNames="{{allDeckNames}}">
        </dictionary-panel>            
    </div> <!-- pageContentDiv -->             
       
  </div> <!-- container -->
  <div id="optionsDialogFramePart">
    <div name="editSubscription" class="formContainer"> 
      <h1>Options</h1>
      <form class="form" role="form">
        <div class="radio">
          <label>
            <input type="radio" name="optionsRadios" id="optionsRadiosFiDaEs" value="option1" >
            Fi, Da, Es
          </label>
        </div>
        <div class="radio">
          <label>
            <input type="radio" name="optionsRadios" id="optionsRadios2" value="option2" checked>
            Ko, Fi, Hu
          </label>
        </div>
        <div class="radio">
          <label>
            <input type="radio" name="optionsRadios" id="optionsRadiosFiKoEs" value="option3">
            Fi, Ko, Es
          </label>
        </div>
        <div class="radio">
          <label>
            <input type="radio" name="optionsRadios" id="optionsRadiosFiEsFr" value="option3">
            Fi, Es, Fr
          </label>
        </div>
      </form>
      <p>
        <button on-click="{{updateOptions}}"                            
          class="btn btn-info">Update</button>
        <button on-click="{{hideOptions}}"                            
          class="btn btn-link">Cancel</button>
      <p>
      <p>                                          
        <button id="clearResultsButton" 
                on-click="{{clearDeckResults}}" 
                class="btn btn-info">Clear results</button>                  
      </p>            
    </div>       
  </div>
  <div id="optionsBacksplashPart" style="opacity: 1; display: none"></div>
<div id="audioContainer"></div>
      
  </template>
  <script type="application/dart" src="flashcardsapp.dart"></script>
</polymer-element>

